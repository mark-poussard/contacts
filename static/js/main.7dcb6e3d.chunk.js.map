{"version":3,"sources":["model/deserialization/DtoHelper.ts","view/components/icon/FontAwesome.tsx","view/components/async/Loader.tsx","view/components/async/LoadData.tsx","model/util/Color.ts","model/contacts/Contact.ts","business/network/DataStore.ts","view/ContactIcon.tsx","view/ContactEntry.tsx","view/components/Email.tsx","view/components/Phone.tsx","view/ContactDetail.tsx","view/ContactList.tsx","App.tsx","index.tsx"],"names":["FieldType","createIconComponent","iconName","props","react_default","a","createElement","react_fontawesome_index_es","Object","assign","icon","LoaderIcon","PhoneIcon","EmailIcon","Loader","className","style","show","leftoverProps","objectWithoutProperties","cleanShow","cleanClassName","mergedStyle","display","concat","spin","color","LoadData","_useState","useState","_useState2","slicedToArray","promiseValue","setPromiseValue","promise","then","value","components_async_Loader","Fragment","children","deserialization_DtoHelper","assertField","dto","fieldName","hasOwnProperty","Error","assertOptionalField","fieldType","_this","assertType","assertFieldAndType","field","isType","NUMBER","STRING","BOOLEAN","OBJECT","ARRAY","Array","isArray","Contact","id","firstname","lastname","email","phone","this","classCallCheck","getId","getFirstName","getLastName","getEmail","getPhone","getFullName","getColor","str","hash","i","length","charCodeAt","colour","toString","substr","stringToHexColour","getInitials","toLocaleUpperCase","fromDto","DtoHelper","network_DataStore","getContacts","fetch","response","ok","json","map","x","idx","ContactIcon","backgroundColor","contact","small","width","height","fontSize","marginLeft","transform","marginTop","marginBottom","ContactEntry","onClick","src_view_ContactIcon","Email","href","Phone","ContactDetail","onClose","components_Email","components_Phone","ContactList","contactDetail","setContactDetail","contacts","src_view_ContactEntry","key","src_view_ContactDetail","App","async_LoadData","DataStore","view_ContactList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7dcb6e3d.chunk.js","sourcesContent":["class DtoHelper{\n\n    assertField = (dto : any, fieldName : string) => {\n        if(!dto.hasOwnProperty(fieldName)){\n            throw new Error(`Invalid dto did not have required field ${fieldName}`);\n        }\n    }\n\n    assertOptionalField = (dto : any, fieldName : string, fieldType : FieldType) => {\n        if(dto.hasOwnProperty(fieldName) && dto[fieldName] != null){\n            this.assertType(dto, fieldName, fieldType);\n        }\n    }\n\n    assertFieldAndType = (dto : any, fieldName : string, fieldType : FieldType) => {\n        this.assertField(dto, fieldName);\n        this.assertType(dto, fieldName, fieldType);\n    }\n\n    assertType = (dto : any, fieldName : string, fieldType : FieldType) => {\n        const field = dto[fieldName];\n        if(!this.isType(field, fieldType)){\n            throw new Error(`Invalid dto had field of invalid type ${fieldName} expected ${fieldType}`);\n        }\n    }\n\n    isType = (field : any, fieldType : FieldType) => {\n        switch(fieldType){\n            case FieldType.NUMBER:\n                return typeof field === \"number\";\n            case FieldType.STRING:\n                return typeof field === \"string\";\n            case FieldType.BOOLEAN:\n                return typeof field === \"boolean\";\n            case FieldType.OBJECT:\n                return typeof field === \"object\";\n            case FieldType.ARRAY:\n                return Array.isArray(field);\n        }\n    }\n}\n\nexport default new DtoHelper();\n\nexport enum FieldType{\n    STRING,\n    NUMBER,\n    BOOLEAN,\n    OBJECT,\n    ARRAY\n}","import React from 'react';\nimport fontawesome from '@fortawesome/fontawesome';\nimport { IconProp, library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon, FontAwesomeIconProps } from '@fortawesome/react-fontawesome';\nimport { faCircleNotch, faPhone, faEnvelopeOpen } from '@fortawesome/fontawesome-free-solid';\n\nexport const fontAwesomeInit = () => {\n    // solid\n    fontawesome.library.add(faCircleNotch);\n    fontawesome.library.add(faPhone);\n    fontawesome.library.add(faEnvelopeOpen);\n};\n\nexport type IconPropsType = Omit<FontAwesomeIconProps, \"icon\">\n\nconst createIconComponent = (iconName : IconProp) => {\n    return (props : IconPropsType) => \n    <FontAwesomeIcon icon={iconName} {...props} />\n}\n\nexport const LoaderIcon = createIconComponent(\"circle-notch\");\nexport const PhoneIcon = createIconComponent(\"phone\");\nexport const EmailIcon = createIconComponent(\"envelope-open\");","import React from 'react';\nimport { LoaderIcon } from '../icon/FontAwesome';\nimport './Loader.scss';\n\ninterface ILoaderProps extends React.HTMLAttributes<HTMLDivElement>{\n    show ?: boolean;\n}\n\nconst Loader : React.FunctionComponent<ILoaderProps> = props => {\n    const {className, style, show, ...leftoverProps} = props;\n    const cleanShow = (show != null)?show:true;\n    const cleanClassName = (className != null) ? className : \"\";\n    const mergedStyle = Object.assign({\n        display : (cleanShow)?\"initial\":\"none\"\n    }, style);\n    return (\n        <div className={`Loader ${cleanClassName}`} \n            style={mergedStyle}\n            {...leftoverProps}>\n            <LoaderIcon spin color={\"gray\"}/>\n        </div>\n    )\n}\nexport default Loader;","import React, { useState } from 'react';\nimport Loader from './Loader';\n\ninterface ILoadComponentProps<T>{\n    promise : Promise<T>;\n    children : (value : T) => React.ReactNode;\n}\n\nconst LoadData = <T extends unknown> (props : ILoadComponentProps<T>) => {\n    const [promiseValue, setPromiseValue] = useState<T | null>(null);\n    props.promise.then(value => {\n        setPromiseValue(value);\n    });\n    if(promiseValue == null){\n        return <Loader />\n    }\n    return (\n        <>\n            {props.children(promiseValue)}\n        </>\n    );\n}\nexport default LoadData;","export const stringToHexColour = (str : string) => {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    let colour = '#';\n    for (let i = 0; i < 3; i++) {\n        const value = (hash >> (i * 8)) & 0xFF;\n        colour += ('00' + value.toString(16)).substr(-2);\n    }\n    return colour;\n}","import DtoHelper, { FieldType } from '../deserialization/DtoHelper';\nimport { stringToHexColour } from '../util/Color';\n\nexport default class Contact{\n\n    private id : number;\n    private firstname : string;\n    private lastname : string;\n    private email : string;\n    private phone : string;\n\n    constructor(id : number, firstname : string, lastname : string, email : string, phone : string){\n        this.id = id;\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.email = email;\n        this.phone = phone;\n    }\n\n    getId = () => this.id;\n    getFirstName = () => this.firstname;\n    getLastName = () => this.lastname;\n    getEmail = () => this.email;\n    getPhone = () => this.phone;\n\n    getFullName = () => {\n        return this.getFirstName() + \" \" + this.getLastName();\n    }\n\n    getColor = () => {\n        return stringToHexColour(this.getFirstName() + this.getLastName());\n    }\n\n    getInitials = () => {\n        return this.getFirstName()[0].toLocaleUpperCase() + this.getLastName()[0].toLocaleUpperCase()\n    }\n\n    static fromDto = (dto : any, id : number) => {\n        DtoHelper.assertFieldAndType(dto, \"firstname\", FieldType.STRING);\n        const firstname = dto.firstname;\n\n        DtoHelper.assertFieldAndType(dto, \"lastname\", FieldType.STRING);\n        const lastname = dto.lastname;\n\n        DtoHelper.assertFieldAndType(dto, \"email\", FieldType.STRING);\n        const email = dto.email;\n\n        DtoHelper.assertFieldAndType(dto, \"phone\", FieldType.STRING);\n        const phone = dto.phone;\n\n        return new Contact(id, firstname, lastname, email, phone);\n    }\n}","import Contact from \"../../model/contacts/Contact\";\n\nconst DATA_STORE_ENDPOINT = \"https://gist.githubusercontent.com/mark-poussard/d9f54694ae06cf92c8528725d30f7c2c/raw/contacts.json\";\n\nclass DataStore{\n    \n    getContacts = () => {\n        return fetch(DATA_STORE_ENDPOINT)\n            .then(response => {\n                if(response.ok){\n                    return response.json();\n                }\n                throw new Error(\"Couldn't reach data store.\");\n            })\n            .then((dto : any[]) => dto.map((x:any, idx : number) => Contact.fromDto(x, idx)));\n    }\n\n}\nexport default new DataStore();","import React from 'react';\nimport Contact from '../model/contacts/Contact';\nimport './ContactIcon.scss';\n\ninterface IContactIconProps{\n    contact : Contact;\n    small ?: boolean;\n}\n\nconst ContactIcon : React.FunctionComponent<IContactIconProps> = props => {\n    const smallStyle = {\n        width: \"50px\",\n        height: \"50px\",\n        display: \"inline-block\",\n    }\n    const bigStyle = {\n        width: \"25vw\",\n        height: \"25vw\",\n        fontSize: \"10vw\",\n        marginLeft: \"50%\",\n        transform: \"translateX(-50%)\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\",\n    }\n    const style = Object.assign({\n        backgroundColor : props.contact.getColor()\n    }, (props.small ? smallStyle : bigStyle));\n    return (\n        <div className={`ContactIcon`}\n            style={style}>\n            <span className={`content`}>\n                {props.contact.getInitials()}\n            </span>\n        </div>\n    );\n}\nexport default ContactIcon;","import React from 'react';\nimport Contact from '../model/contacts/Contact';\nimport ContactIcon from './ContactIcon';\nimport './ContactEntry.scss';\n\ninterface IContactEntryProps{\n    contact : Contact;\n    onClick ?: () => void;\n}\n\nconst ContactEntry : React.FunctionComponent<IContactEntryProps> = props => {\n    return (\n        <div className={`ContactEntry`}\n            onClick={props.onClick}>\n            <ContactIcon contact={props.contact} small/>\n            <span>{props.contact.getFullName()}</span>\n        </div>\n    );\n}\nexport default ContactEntry;","import React from 'react';\nimport { EmailIcon } from './icon/FontAwesome';\n\ninterface IEmailProps{\n    email : string;\n}\n\nconst Email : React.FunctionComponent<IEmailProps> = props => {\n    return (\n        <div>\n            <EmailIcon />\n            <a href={`mailto:${props.email}`}>{props.email}</a>\n        </div>\n    );\n}\nexport default Email;","import React from 'react';\nimport { PhoneIcon } from './icon/FontAwesome';\n\ninterface IPhoneProps{\n    phone : string;\n}\n\nconst Phone : React.FunctionComponent<IPhoneProps> = props => {\n    return (\n        <div>\n            <PhoneIcon />\n            <a href={`tel:${props.phone}`}>{props.phone}</a>\n        </div>\n    )\n}\nexport default Phone;","import React from 'react';\nimport Email from './components/Email';\nimport Phone from './components/Phone';\nimport Contact from '../model/contacts/Contact';\nimport './ContactDetail.scss';\nimport ContactIcon from './ContactIcon';\n\ninterface IContactDetailProps{\n    contact : Contact;\n    onClose ?: () => void;\n}\n\nconst ContactDetail : React.FunctionComponent<IContactDetailProps> = props => {\n    return (\n        <div className={`ContactDetail`} onClick={props.onClose}>\n            <div className={`contact-detail-content`}>\n                <ContactIcon contact={props.contact} />\n                <span>{props.contact.getFullName()}</span>\n                <Email email={props.contact.getEmail()} />\n                <Phone phone={props.contact.getPhone()} />\n            </div>\n        </div>\n    );\n}\nexport default ContactDetail;","import React, { useState } from 'react';\nimport Contact from '../model/contacts/Contact';\nimport ContactEntry from './ContactEntry';\nimport ContactDetail from './ContactDetail';\n\ninterface IContactListProps{\n    contacts : Contact[];\n}\n\nconst ContactList : React.FunctionComponent<IContactListProps> = props => {\n    const [contactDetail, setContactDetail] = useState<Contact | null>(null);\n\n    return (\n        <div>\n            {props.contacts.map(contact => \n                <ContactEntry key={contact.getId()} \n                    contact={contact}\n                    onClick={() => setContactDetail(contact)}/>\n            )}\n            {contactDetail &&\n                <ContactDetail contact={contactDetail} \n                    onClose={() => setContactDetail(null)}/>\n            }\n        </div>\n    )\n}\nexport default ContactList;","import React from 'react';\nimport LoadData from './view/components/async/LoadData';\nimport DataStore from './business/network/DataStore';\nimport ContactList from './view/ContactList';\nimport './App.scss';\n\nconst App : React.FunctionComponent = props => {\n  return (\n    <div className={`App`}>\n      <LoadData promise={DataStore.getContacts()}>\n        {contacts => (\n          <ContactList contacts={contacts}/>\n        )}\n      </LoadData>\n    </div>\n  )\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}